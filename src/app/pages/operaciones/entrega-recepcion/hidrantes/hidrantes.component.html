<app-report-header></app-report-header>

<p-table
  [value]="data"
  sortField="clasificacion"
  rowGroupMode="subheader"
  groupRowsBy="clasificacion"
  styleClass="custom-table"
>
  <ng-template pTemplate="caption">
    <div class="flex align-items-center justify-content-between">
      <h5 class="m-0 h5">Inventario Extintores</h5>
    </div>
  </ng-template>
  <ng-template pTemplate="header">
    <tr>
      <th scope="col" style="width: 1%" class="small">NÂ°</th>
      <th scope="col" style="width: 10%" class="small">Foto</th>
      <th scope="col" style="width: 20%" class="small">Tipo</th>
      <th scope="col" style="width: 20%" class="small">Ubicacion</th>
      <th scope="col" style="width: 10%" class="small">Check</th>
      <th scope="col" style="width: 34%" class="small">Observaciones</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="groupheader" let-customer>
    <tr pRowGroupHeader>
      <td colspan="7">
        <span class="font-bold ml-2">{{ customer.clasificacion }}</span>
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="groupfooter" let-customer>
    <tr class="p-rowgroup-footer">
      <td class="small" colspan="7">
        <div style="text-align: right">
          Total:

          {{ calcularEquiposTotal(customer.clasificacion) }}
        </div>
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-item let-rowIndex="rowIndex">
    <tr class="page-break">
      <td class="small">{{ rowIndex + 1 }}</td>
      <td class="small">
        <img
          [src]="base_urlImg + item.photo"
          alt="img"
          width="100"
          class="shadow-4"
        />
      </td>
      <td class="small">{{ item.eExtintor }}</td>
      <td class="small">{{ item.ubicacion }}</td>
      <td class="small text-center">
        <input type="checkbox" />
      </td>
      <td class="small"></td>
    </tr>
  </ng-template>
</p-table>
