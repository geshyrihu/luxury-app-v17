<div class="container">
  <div class="row mb-2 align-items-center">
    <div class="col-3 text-left">
      <img
        *ngIf="data?.minutaCliente?.customerLogo"
        [src]="imgBase + data.minutaCliente.customerLogo"
        alt="Logo"
        class="img-fluid mb-2"
        style="max-height: 80px; max-width: 100%"
      />
    </div>
    <div class="col-6 text-center">
      <h3
        *ngIf="data?.minutaCliente?.customer"
        class="font-weight-bold mb-1 text-left"
        style="font-size: 1.2rem"
      >
        {{ data.minutaCliente.customer }}
      </h3>
      <h5
        *ngIf="data?.minuta?.eTypeMeeting"
        class="text-secondary mb-1 text-left"
        style="font-size: 1rem"
      >
        Minuta de Junta con {{ data.minuta.eTypeMeeting }}
      </h5>
      <p
        *ngIf="data?.minuta?.date"
        class="text-muted mb-1 text-left"
        style="font-size: 0.9rem"
      >
        {{ data.minuta.date | date : "dd-MMM-yyyy" }}
      </p>
    </div>
    <div class="col-3"></div>
  </div>

  <!-- Comité de vigilancia -->
  <div *ngIf="data.comite && data.comite.length > 0" class="mb-3">
    <h6 class="text-center mb-1" style="font-size: 1rem">
      Comité de Vigilancia
    </h6>
    <table
      class="table table-sm table-bordered custom-table"
      style="font-size: 0.8rem"
    >
      <thead class="thead-light">
        <tr>
          <th class="text-center">N°</th>
          <th class="text-center">Cargo</th>
          <th class="text-center">Nombre</th>
          <th class="text-center">Firma</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of data.comite; let rowIndex = index">
          <td class="text-center">{{ rowIndex + 1 }}</td>
          <td>{{ item.cargo }}</td>
          <td>{{ item.nombre }}</td>
          <td></td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Administración -->
  <div
    *ngIf="data.administracion && data.administracion.length > 0"
    class="mb-3"
  >
    <h6 class="text-center mb-1" style="font-size: 1rem">Administración</h6>
    <table
      class="table table-sm table-bordered custom-table"
      style="font-size: 0.8rem"
    >
      <thead class="thead-light">
        <tr>
          <th class="text-center">N°</th>
          <th class="text-center">Cargo</th>
          <th class="text-center">Nombre</th>
          <th class="text-center">Firma</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of data.administracion; let rowIndex = index">
          <td class="text-center">{{ rowIndex + 1 }}</td>
          <td>{{ item.cargo }}</td>
          <td>{{ item.nombre }}</td>
          <td></td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Participantes -->
  <div *ngIf="data.externos && data.externos.length > 0" class="mb-3">
    <h6 class="text-center mb-1" style="font-size: 1rem">Invitados</h6>
    <table
      class="table table-sm table-bordered custom-table"
      style="font-size: 0.8rem"
    >
      <thead class="thead-light">
        <tr>
          <th class="text-center">#</th>
          <th class="text-center">Nombre</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of data.externos; let rowIndex = index">
          <td class="text-center">{{ rowIndex + 1 }}</td>
          <td>{{ item.invitado }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <hr />

  <!-- Detalles -->
  <div *ngIf="detalles && detalles.length > 0" class="mb-3">
    <h6 class="text-center mb-2" style="font-size: 1rem">
      Detalles de la Junta
    </h6>
    <div *ngFor="let item of detalles">
      <h6 class="font-weight-bold" style="font-size: 0.9rem">
        {{ item.responsibleArea }}
      </h6>
      <table
        class="table table-sm table-bordered p-datatable-sm mb-2"
        style="font-size: 0.8rem"
      >
        <tbody>
          <tr *ngFor="let asunto of item.items; let i = index">
            <td>
              <p class="mb-1">{{ i + 1 }}. {{ asunto.title }}</p>
              <div
                [innerHTML]="asunto.requestService | sanitizeHtml"
                class="text-justify"
              ></div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
