<p-toast position="bottom-left" [baseZIndex]="99999" />
<div class="p-card p-mb-5">
  <p-table
    [(selection)]="data"
    [autoLayout]="true"
    [value]="data"
    styleClass="custom-table"
    [tableStyle]="{ 'min-width': '50rem' }"
  >
    <ng-template pTemplate="caption">
      <h5>Pendientes en Minutas Contabilidad</h5>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th scope="col" style="width: 8%">#</th>
        <th scope="col" style="width: 8%" pSortableColumn="numeroCliente">
          CLIENTE
          <p-sortIcon
            field="numeroCliente
            "
          />
        </th>
        <th scope="col" style="width: 8%" pSortableColumn="dateFiltro">
          Fecha<p-sortIcon field="dateFiltro" />
        </th>
        <th scope="col" style="width: 30%">Asunto</th>
        <th scope="col" style="width: 30%" pSortableColumn="pendiente">
          Seguimiento<p-sortIcon field="pendiente" />
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-i="rowIndex" let-item>
      <tr>
        <td class="p-column-title">
          <small>
            {{ i + 1 }}
          </small>
        </td>
        <td class="p-column-title">
          <small>
            {{ item.nombreCorto }}
          </small>
        </td>
        <td class="p-column-title">
          <small>
            {{ item.date }}
          </small>
        </td>
        <td class="p-column-title">
          <small>
            <p class="h6">{{ item.title | titlecase }}</p>
            <div
              class="text-justify"
              [innerHTML]="item.requestService | sanitizeHtml"
            ></div>
          </small>
        </td>
        <td class="p-column-title">
          <small>
            <ol [start]="item.seguimientos.length" reversed>
              @for (seguimiento of item.seguimientos; track seguimiento) {
              <li>
                {{ seguimiento.fecha }},
                {{ seguimiento.seguimiento | titlecase }}
              </li>
              }
            </ol>
          </small>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
